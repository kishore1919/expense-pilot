@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

:root {
  /* Material 3 Inspired Palette - Seed: Teal */
  /* Light Theme */
  --md-sys-color-primary: #006a60;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #74f8e5;
  --md-sys-color-on-primary-container: #00201c;
  
  --md-sys-color-secondary: #4a635f;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #cde8e2;
  --md-sys-color-on-secondary-container: #06201c;
  
  --md-sys-color-tertiary: #456179;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #cce5ff;
  --md-sys-color-on-tertiary-container: #001e31;

  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;

  --md-sys-color-background: #fafdfa;
  --md-sys-color-on-background: #191c1b;
  
  --md-sys-color-surface: #f7faf9; /* Surface Dim */
  --md-sys-color-on-surface: #191c1b;
  --md-sys-color-surface-variant: #dae5e1;
  --md-sys-color-on-surface-variant: #3f4947;
  
  --md-sys-color-outline: #6f7977;
  --md-sys-color-outline-variant: #bec9c6;

  /* Surfaces */
  --md-sys-color-surface-container-lowest: #ffffff;
  --md-sys-color-surface-container-low: #f0f4f3;
  --md-sys-color-surface-container: #eaefee;
  --md-sys-color-surface-container-high: #e4e9e8;
  --md-sys-color-surface-container-highest: #dee4e2;

  /* Motion */
  --ease-expressive: cubic-bezier(0.3, 0.0, 0.8, 0.15); /* Standard M3 emphasis */
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.1); /* Bouncy */
}

html.dark {
  /* Dark Theme */
  --md-sys-color-primary: #53dbc9;
  --md-sys-color-on-primary: #003732;
  --md-sys-color-primary-container: #005048;
  --md-sys-color-on-primary-container: #74f8e5;

  --md-sys-color-secondary: #b1ccc6;
  --md-sys-color-on-secondary: #1c3531;
  --md-sys-color-secondary-container: #334b47;
  --md-sys-color-on-secondary-container: #cde8e2;

  --md-sys-color-tertiary: #adcae6;
  --md-sys-color-on-tertiary: #153349;
  --md-sys-color-tertiary-container: #2d4961;
  --md-sys-color-on-tertiary-container: #cce5ff;

  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffdad6;

  --md-sys-color-background: #191c1b;
  --md-sys-color-on-background: #e0e3e1;

  --md-sys-color-surface: #101413;
  --md-sys-color-on-surface: #c4c7c5;
  --md-sys-color-surface-variant: #3f4947;
  --md-sys-color-on-surface-variant: #bec9c6;

  --md-sys-color-outline: #899390;
  --md-sys-color-outline-variant: #3f4947;

  /* Surfaces Dark */
  --md-sys-color-surface-container-lowest: #0c0f0e;
  --md-sys-color-surface-container-low: #191c1b;
  --md-sys-color-surface-container: #1d201f;
  --md-sys-color-surface-container-high: #272b29;
  --md-sys-color-surface-container-highest: #323634;
}

@theme inline {
  --color-primary: var(--md-sys-color-primary);
  --color-on-primary: var(--md-sys-color-on-primary);
  --color-primary-container: var(--md-sys-color-primary-container);
  --color-on-primary-container: var(--md-sys-color-on-primary-container);
  
  --color-secondary: var(--md-sys-color-secondary);
  --color-on-secondary: var(--md-sys-color-on-secondary);
  --color-secondary-container: var(--md-sys-color-secondary-container);
  --color-on-secondary-container: var(--md-sys-color-on-secondary-container);

  --color-background: var(--md-sys-color-background);
  --color-on-background: var(--md-sys-color-on-background);
  
  --color-surface: var(--md-sys-color-surface);
  --color-on-surface: var(--md-sys-color-on-surface);
  --color-surface-variant: var(--md-sys-color-surface-variant);
  --color-on-surface-variant: var(--md-sys-color-on-surface-variant);
  
  --color-outline: var(--md-sys-color-outline);
  --color-outline-variant: var(--md-sys-color-outline-variant);

  --color-surface-container: var(--md-sys-color-surface-container);
  --color-surface-container-lowest: var(--md-sys-color-surface-container-lowest);
  --color-surface-container-low: var(--md-sys-color-surface-container-low);
  --color-surface-container-high: var(--md-sys-color-surface-container-high);
  --color-surface-container-highest: var(--md-sys-color-surface-container-highest);

  --font-sans: var(--font-body);
  --font-mono: var(--font-heading);
}

html {
  color-scheme: light;
  min-height: 100%;
  background-color: var(--md-sys-color-background);
}

html.dark {
  color-scheme: dark;
  background-color: var(--md-sys-color-background);
}

* {
  box-sizing: border-box;
}

html,
body {
  min-height: 100vh;
}

body {
  position: relative;
  color: var(--md-sys-color-on-background);
  font-family: var(--font-body), system-ui, sans-serif;
  letter-spacing: 0.015em;
  min-height: 100vh;
  overflow-x: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;
}

@keyframes riseIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes spin-material {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@layer components {
  .surface-card {
    @apply rounded-[24px] bg-surface-container-low text-on-surface border border-transparent shadow-sm transition-all duration-300;
  }
  
  /* Elevated Card Variation */
  .surface-card:hover {
    @apply bg-surface-container shadow-md;
  }

  .surface-strong {
    @apply rounded-[28px] bg-surface-container text-on-surface shadow-md border-none;
  }

  .status-error {
    @apply rounded-[16px] bg-red-100 text-red-900 border-none px-4 py-3 text-sm font-medium dark:bg-red-900/30 dark:text-red-200;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-full bg-primary px-6 py-3.5 text-sm font-medium text-on-primary shadow-sm transition-all duration-300 hover:shadow-md hover:opacity-90 active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 dark:focus-visible:ring-offset-slate-900;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-outline bg-transparent px-6 py-3.5 text-sm font-medium text-primary transition-all duration-300 hover:bg-secondary-container hover:border-transparent hover:text-on-secondary-container active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary;
  }

  .icon-button {
    @apply inline-flex h-12 w-12 items-center justify-center rounded-full bg-transparent text-on-surface-variant transition-colors hover:bg-surface-container-highest hover:text-on-surface focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary;
  }

  .field-label {
    @apply mb-2 block text-sm font-medium text-on-surface-variant px-1;
  }

  .text-field {
    @apply w-full rounded-[16px] border border-outline-variant bg-surface-container-lowest px-4 py-3.5 text-base text-on-surface outline-none transition-all placeholder:text-on-surface-variant/60 focus:border-primary focus:bg-surface-container-low focus:ring-2 focus:ring-primary/20 hover:border-outline;
  }

  .page-title {
    font-family: var(--font-heading), sans-serif;
    @apply text-4xl font-normal text-on-surface tracking-tight md:text-5xl;
  }

  .page-subtitle {
    @apply mt-3 text-base text-on-surface-variant md:text-lg font-normal;
  }

  .section-title {
    font-family: var(--font-heading), sans-serif;
    @apply text-2xl font-normal text-on-surface;
  }

  .metric-value {
    font-family: var(--font-heading), sans-serif;
    @apply text-4xl font-normal text-on-surface;
  }

  .empty-state {
    @apply flex flex-col items-center rounded-[28px] border-2 border-dashed border-outline-variant bg-surface-container-lowest/50 px-8 py-16 text-center;
  }

  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 backdrop-blur-[2px] transition-opacity;
  }

  .modal-card {
    @apply w-full max-w-md rounded-[28px] bg-surface-container-high p-6 shadow-2xl md:p-8;
    animation: riseIn 0.4s cubic-bezier(0.2, 0.0, 0, 1.0) both;
  }

  .fade-in {
    animation: riseIn 0.5s cubic-bezier(0.2, 0.0, 0, 1.0) both;
  }
}

@layer utilities {
  .dark .text-slate-900 {
    color: rgb(241 245 249);
  }

  .dark .text-slate-800 {
    color: rgb(226 232 240);
  }

  .dark .text-slate-700 {
    color: rgb(203 213 225);
  }

  .dark .text-slate-600 {
    color: rgb(148 163 184);
  }

  .dark .text-slate-500 {
    color: rgb(148 163 184);
  }

  .dark .text-slate-400 {
    color: rgb(100 116 139);
  }

  .dark .border-slate-200 {
    border-color: rgb(71 85 105);
  }

  .dark .border-slate-200\/70 {
    border-color: rgb(71 85 105 / 0.7);
  }

  .dark .bg-slate-100 {
    background-color: rgb(30 41 59);
  }

  .dark .bg-slate-200 {
    background-color: rgb(51 65 85);
  }

  .dark .bg-slate-300 {
    background-color: rgb(71 85 105);
  }

  .dark .bg-white\/95 {
    background-color: rgb(15 23 42 / 0.95);
  }

  .dark .bg-white\/90 {
    background-color: rgb(15 23 42 / 0.9);
  }

  .dark .bg-white\/75 {
    background-color: rgb(15 23 42 / 0.75);
  }

  .dark .bg-white\/70 {
    background-color: rgb(15 23 42 / 0.7);
  }

  .dark .bg-white {
    background-color: rgb(15 23 42);
  }

  .dark .hover\:bg-white\/95:hover {
    background-color: rgb(30 41 59 / 0.95);
  }

  .dark .hover\:bg-white\/90:hover {
    background-color: rgb(30 41 59 / 0.9);
  }

  .dark .hover\:bg-white:hover {
    background-color: rgb(30 41 59 / 0.95);
  }

  .dark .border-red-200 {
    border-color: rgb(127 29 29);
  }

  .dark .bg-red-50 {
    background-color: rgb(69 10 10 / 0.45);
  }

  .dark .hover\:bg-red-100:hover {
    background-color: rgb(127 29 29 / 0.45);
  }

  .dark .text-red-700 {
    color: rgb(252 165 165);
  }
}
